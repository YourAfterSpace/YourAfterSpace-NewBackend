spring.application.name=yas-backend

# Safe-by-default: if no profile is specified, run with production-safe defaults.
# For local development, set `SPRING_PROFILES_ACTIVE=dev`.
spring.profiles.default=prod

# Server Configuration (can be overridden via env: SERVER_PORT)
server.port=3000

# CORS: comma-separated list of frontend origins (e.g. Flutter web URL)
# Override in application-dev.properties for local dev, e.g. http://localhost:8080
cors.allowed-origins=http://localhost:8080,http://localhost:3001,http://localhost:5000
server.shutdown=graceful
spring.lifecycle.timeout-per-shutdown-phase=30s

# Logging
logging.level.root=INFO
logging.level.com.example.yas_backend=INFO

# Jackson Configuration
spring.jackson.time-zone=UTC

# Error handling: never leak internals via default error responses.
server.error.include-message=never
server.error.include-stacktrace=never

# AWS API Gateway + Cognito Authentication
# API Gateway validates Cognito tokens and passes user identity via headers:
# - x-amzn-oidc-identity: Cognito user ID (sub claim)
# - x-amzn-oidc-data: Base64-encoded JWT claims
# The ApiGatewayAuthFilter extracts these headers and makes them available via UserContext

# AWS Cognito Configuration
# For AWS Lambda: Set these as environment variables
# For local development: Override in application-dev.properties
# NEVER commit secrets to version control
aws.cognito.user-pool-id=ap-south-1_UomOVMq5X
aws.cognito.client-id=475r90pvbf1kle4u6dt188gi9i
# aws.cognito.client-secret=${AWS_COGNITO_CLIENT_SECRET:}
aws.region=ap-south-1

# DynamoDB: single table for user profiles and experiences (required for GET /v1/experiences/all etc.)
aws.dynamodb.user-profile-table=user-profiles
